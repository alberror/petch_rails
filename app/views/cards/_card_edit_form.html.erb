<script src="https://cdn.jsdelivr.net/npm/select2@4.0.12/dist/js/select2.min.js"></script>
<%= simple_form_for(card) do |f| %>
  <h3 class="mb-5">Creation d'une fiche pour <%= @card.animal %></h3>

  <div class="inputs">
    <div class="row">
      <div class="col">

        <!-- COMMON INPUTS -->
<<<<<<< HEAD
        <%= f.input :title, placeholder: 'titre', label: false, input_html: { class: 'check'} %>
        <%= f.input :origin, placeholder: 'origine', label: false, input_html: { class: 'check'} %>
        <%= f.input :life_expectancy, label: false, placeholder: 'esperance du vie', input_html: { class: 'check' } %>
=======
        <%= f.input :title, placeholder: 'titre', label: false %>
        <%= f.input :life_expectancy, label: false, placeholder: 'esperance du vie' %>
>>>>>>> countries setup
        <div class="row">
          <div class="col">
            <%= f.input :min_height, placeholder: 'taille minimal (cm)', label: false, input_html: { class: 'check'} %>
          </div>
          <div class="col">
            <%= f.input :max_height, placeholder: 'taille maximal (cm)', label: false, input_html: { class: 'check'} %>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <%= f.input :min_weight, placeholder: 'poid minimal (kg)', label: false, input_html: { class: 'check'} %>
          </div>
          <div class="col">
            <%= f.input :max_weight, placeholder: 'poid maximal (kg)', label: false, input_html: { class: 'check'} %>
          </div>
        </div>
        <%= f.input :origin, collection: [CONTINENT, COUNTRIES].flatten, input_html: { class: 'select2' } %>

        <hr>

        <!-- SPECIFIC INPUTS -->
        <%= simple_fields_for :specs, OpenStruct.new(card.specificities) do |x| %>
          <% Card::SPECS[card.animal.to_sym].each do |key, value| %>
            <%= x.input key, collection: value, prompt: "#{key.to_s.gsub('_', ' ')}", label: false, input_html: { class: 'check'} %>
          <% end %>
        <% end %>

      </div>

      <!-- SPECIFIC RATINGS -->
      <div class="col card-ratings">
        <%= simple_fields_for :ratings, OpenStruct.new(card.specificities) do |x| %>
          <% Card::RATINGS[card.animal.to_sym].each do |rating| %>
            <%= x.input rating, collection: 1..5, input_html: { class: 'rating_field' }  %>
          <% end %>
        <% end %>
      </div>

    </div>
  </div>

  <hr>

  <%= f.hidden_field :body, class: 'body' %>
  <div id="editor" style="min-height: 400px"></div>

  <%#= f.submit id: 'real-submit', class: 'd-none', disabled: true %>
  <button id="fake-submit" class="btn btn-primary" disabled="true">Feel the Form</button>
<% end %>
